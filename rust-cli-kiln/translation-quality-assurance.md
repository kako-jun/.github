# 翻訳品質保証プロセス

## 概要

Matrix 1（ドキュメント翻訳・整合性マトリクス）における翻訳品質の厳格な確認手順を定義。表面的な「ファイル存在確認」や「見出し数一致」ではなく、**完全で自然な翻訳**の達成を目標とする。

## 基本原則

### 翻訳品質の定義
- **完全性**: 英語版の全内容が過不足なく翻訳されている
- **自然性**: 各言語のネイティブスピーカーが自然に読める表現
- **一貫性**: プロジェクト全体で技術用語・表現が統一されている
- **正確性**: 技術的内容の意味が正確に伝わる

### 品質基準
- 機械翻訳レベル: ❌ 不合格
- 人間による粗訳レベル: ⚠️ 要改善
- ネイティブレベル自然翻訳: ✅ 合格

## Matrix 1 新カラム設計

| カラム名 | 目的 | 確認内容 |
|---------|------|---------|
| **ドキュメントファイル** | 対象ファイル特定 | 英語版ベースファイル |
| **仕様最新性** | 仕様記述の最新性確認 | 古い仕様記述の除去 + 最新仕様の反映 |
| **日本語翻訳** | 翻訳ファイル存在確認 | _ja.mdファイルの存在 |
| **中国語翻訳** | 翻訳ファイル存在確認 | _zh.mdファイルの存在 |
| **翻訳完成度** | 翻訳網羅性確認 | 英語版内容の完全翻訳（漏れなし） |
| **翻訳品質** | 翻訳自然性確認 | ネイティブレベルの自然な表現 |

## 確認手順詳細

### 1. 翻訳完成度確認

#### 1.1 英語残存チェック
```bash
# 日本語版に英語のまま残っている箇所を検出
grep -n "[A-Za-z]{3,}" docs/path/file_ja.md | grep -v "```" | grep -v "http" | grep -v "GitHub"

# 中国語版に英語のまま残っている箇所を検出  
grep -n "[A-Za-z]{3,}" docs/path/file_zh.md | grep -v "```" | grep -v "http" | grep -v "GitHub"
```

**合格基準**: 英語残存箇所が以下のみ：
- コードブロック内のコード
- URL・リンク
- 固有名詞（GitHub, PyTorch, etc.）
- 技術仕様名（JSON, YAML, etc.）

#### 1.2 セクション対応確認
```bash
# 各言語版の見出し構造比較
echo "英語版見出し:" && grep "^#" docs/path/file.md
echo "日本語版見出し:" && grep "^#" docs/path/file_ja.md  
echo "中国語版見出し:" && grep "^#" docs/path/file_zh.md
```

**合格基準**: 
- 見出し数が一致（英語/日本語/中国語）
- 見出し階層構造が論理的に対応
- 英語版の全セクションに対応する翻訳セクションが存在

#### 1.3 コードブロック翻訳確認
```bash
# コードブロック数の一致確認
echo "英語版コードブロック数:" && grep -c "^```" docs/path/file.md
echo "日本語版コードブロック数:" && grep -c "^```" docs/path/file_ja.md
echo "中国語版コードブロック数:" && grep -c "^```" docs/path/file_zh.md
```

**確認項目**:
- コードブロック数の一致
- コメント部分の適切な翻訳
- コマンド例の一致
- 出力例の適切な翻訳

#### 1.4 リンク整合性確認
```bash
# 内部リンクの確認
grep -n "\[.*\](" docs/path/file_ja.md
grep -n "\[.*\](" docs/path/file_zh.md
```

**確認項目**:
- 内部リンクの各言語版対応
- 外部リンクの適切性
- アンカーリンクの整合性

### 2. 翻訳品質確認

#### 2.1 自然性評価チェックリスト

**日本語品質チェック**:
- [ ] 敬語・丁寧語の適切な使用
- [ ] 技術文書として自然な日本語表現
- [ ] カタカナ技術用語の適切な使用
- [ ] 句読点・助詞の正確な使用
- [ ] 文体の一貫性（である調/ます調）

**中国語品質チェック**:
- [ ] 简体中文での適切な表記
- [ ] 技術文書として自然な中国語表現  
- [ ] 専門用語の標準的な中国語表記
- [ ] 文法・語順の正確性
- [ ] 文体の一貫性

#### 2.2 技術用語統一確認

**共通技術用語リスト作成**:
```markdown
| 英語 | 日本語 | 中国語 | 備考 |
|------|--------|--------|------|
| diff tool | diff ツール | diff工具 | |
| machine learning | 機械学習 | 机器学习 | |
| tensor | テンソル | 张量 | |
| repository | リポジトリ | 仓库 | |
```

**確認方法**:
1. 各プロジェクトの技術用語使用状況調査
2. 用語統一表との照合
3. 不統一箇所の特定・修正

#### 2.3 文脈適合性確認

**確認観点**:
- 各言語圏での技術文書慣例への適合
- 読者層（開発者）に適した表現レベル
- CLI ツールドキュメントとしての適切性
- コード例と説明文の論理的整合性

#### 2.4 読みやすさ評価

**評価基準**:
- ネイティブスピーカーが違和感なく読める
- 技術的内容が正確に理解できる
- 実用的な情報として活用できる
- 機械翻訳感がない自然な表現

## 確認結果の記録方法

### 翻訳完成度確認結果
- ✅ 完全（100%翻訳完了）
- ⚠️ 要改善（95%以上、軽微な未翻訳あり）
- ❌ 不完全（95%未満、重要な未翻訳あり）

### 翻訳品質確認結果  
- ✅ 高品質（ネイティブレベル自然翻訳）
- ⚠️ 要改善（理解可能だが不自然な表現あり）
- ❌ 低品質（機械翻訳レベル、要全面見直し）

## 品質改善プロセス

### 1. 問題特定
- 翻訳完成度・品質確認で発見された問題の詳細記録
- 優先度付け（Critical/High/Medium/Low）

### 2. 修正作業
- 技術用語統一表の適用
- 自然な表現への書き換え
- 未翻訳箇所の完全翻訳

### 3. 再確認
- 修正後の品質確認
- クロスチェック（他言語版との整合性）

### 4. 最終承認
- 全確認項目の✅達成確認
- Matrix 1の該当セルを更新

## 自動化可能な確認項目

```bash
#!/bin/bash
# 翻訳品質自動チェックスクリプト（参考実装）

check_translation_completeness() {
    local file_base="$1"
    
    echo "=== 翻訳完成度確認: $file_base ==="
    
    # 英語残存チェック
    echo "日本語版英語残存:"
    grep -n "[A-Za-z]{3,}" "${file_base}_ja.md" | grep -v "```" | grep -v "http" | head -5
    
    echo "中国語版英語残存:"
    grep -n "[A-Za-z]{3,}" "${file_base}_zh.md" | grep -v "```" | grep -v "http" | head -5
    
    # 見出し数比較
    en_headings=$(grep -c "^#" "${file_base}.md")
    ja_headings=$(grep -c "^#" "${file_base}_ja.md")
    zh_headings=$(grep -c "^#" "${file_base}_zh.md")
    
    echo "見出し数: EN=$en_headings, JA=$ja_headings, ZH=$zh_headings"
    
    # コードブロック数比較
    en_code=$(grep -c "^```" "${file_base}.md")
    ja_code=$(grep -c "^```" "${file_base}_ja.md")
    zh_code=$(grep -c "^```" "${file_base}_zh.md")
    
    echo "コードブロック数: EN=$en_code, JA=$ja_code, ZH=$zh_code"
}
```

## Matrix 1 真の100%達成条件

**全ファイルで以下を満たす必要がある:**

1. **翻訳完成度確認**: ✅（英語残存なし、セクション完全対応）
2. **翻訳品質確認**: ✅（ネイティブレベル自然翻訳）
3. **技術用語統一**: ✅（プロジェクト間一貫性）
4. **内容整合性**: ✅（コード例・リンク等の完全一致）

**注意**: 従来の「見出し数一致」は必要条件であるが十分条件ではない。真の達成には上記4項目すべての✅が必須。