# タスクリスト - TDD順序準拠版

## 概要

TDDの正しい順序（仕様確定 → テスト作成 → 実装・検証）に従い、マトリクス1-5の順序でタスクを整理。

**リリース条件**: 全マトリクス（1-5番）100%達成必須

## 1. 現在作業中のタスク

### 1.1 マトリクス1: ドキュメント翻訳・整合性（仕様確定段階）
- [ ] **1.1.1** 古い仕様記述チェック実行
  - [ ] check-docs-consistency.sh による自動チェック実行
  - [ ] 41ファイル（lawkit13+diffai15+diffx13）の英語版仕様確認
  - [ ] 古い記述の修正・最新化
- [ ] **1.1.2** 翻訳ファイル存在確認
  - [ ] _ja.md ファイルの存在確認（41ファイル）
  - [ ] _zh.md ファイルの存在確認（41ファイル）
  - [ ] 不足翻訳ファイルの特定
- [ ] **1.1.3** 構造整合性確認
  - [ ] 見出し数の3言語一致確認
  - [ ] コードブロック数の3言語一致確認
  - [ ] CLIオプション数の整合性確認
- [ ] **1.1.4** マトリクス1更新
  - [ ] 実測値に基づくマトリクス1更新
  - [ ] 🔍→✅への変更（確認完了項目のみ）

## 2. 次に着手するタスク

### 2.1 マトリクス2: ドキュメント対応テストコード（テスト仕様段階）
- [ ] **2.1.1** ドキュメント内使用例数カウント
  - [ ] 41ドキュメントファイルの使用例数調査
  - [ ] コードブロック・CLI例示数の正確な集計
- [ ] **2.1.2** テストケース数確認
  - [ ] 既存テストケース数の再集計
  - [ ] ドキュメント使用例数との一致率算出
- [ ] **2.1.3** 不一致解消計画
  - [ ] テストケース不足項目の特定
  - [ ] 追加テストケース作成計画
- [ ] **2.1.4** マトリクス2更新
  - [ ] 実測値に基づくマトリクス2更新

### 2.2 マトリクス3: テストディレクトリ活用状況（テスト実装段階）
**必達目標**: 🔴 0件ディレクトリを0個にする（全27個の0件ディレクトリ解消必須）

- [ ] **2.2.1** 緊急対応: 全🔴 0件ディレクトリの解消
  - [ ] lawkit-python: 7ディレクトリ全てにテスト実装（0件→実装済み）
  - [ ] lawkit-npm: 2ディレクトリ全てにテスト実装（0件→実装済み）
  - [ ] diffai-python: 7ディレクトリ全てにテスト実装（0件→実装済み）
  - [ ] diffai-npm: 2ディレクトリ全てにテスト実装（0件→実装済み）
  - [ ] diffx-python: 7ディレクトリ全てにテスト実装（0件→実装済み）
  - [ ] diffx-npm: 2ディレクトリ全てにテスト実装（0件→実装済み）
- [ ] **2.2.2** Rustテスト完全実装達成
  - [ ] lawkit: unitテスト完全実装（0件→動作するテスト群）
  - [ ] diffai: unitテスト完全実装（0件→動作するテスト群）
  - [ ] diffx: 全テスト成功達成（117/118→118/118）
- [ ] **2.2.3** マトリクス3完成確認
  - [ ] 🔴マーク完全撲滅確認（27個→0個）
  - [ ] 全ディレクトリ✅達成確認

### 2.3 マトリクス4: テストパス状況（実装完了段階）
**必達目標**: 全引数・オプションで実際にテストパス達成（❌→✅、テストパス率100%）
**重要**: 最も困難なマトリクス。実装→テスト→修正の順序で慎重に進める

- [ ] **2.3.1** 実装状況の全面調査（テスト前必須）
  - [ ] lawkit Rust CLI: 各引数・オプションの実装状況確認
    - [ ] サブコマンド（benf, pareto, zipf, normal, poisson, analyze, validate, diagnose, generate, list, selftest）
    - [ ] analyze系オプション（--format, --quiet, --verbose, --filter, --min-count, --no-color, --laws, --focus等）
  - [ ] diffai Rust CLI: 各引数・オプションの実装状況確認
    - [ ] 基本オプション（--help, --version, --format, --output, --recursive, --verbose, --no-color）
    - [ ] 高度オプション（--path, --ignore-keys-regex, --epsilon, --array-id-key）
  - [ ] diffx Rust CLI: 各引数・オプションの実装状況確認
    - [ ] 基本オプション（--help, --version, --format, --output, --recursive, --quiet, --brief, --verbose, --no-color）
    - [ ] 比較オプション（--path, --ignore-keys-regex, --epsilon, --array-id-key, --context, --ignore-whitespace, --ignore-case）

- [ ] **2.3.2** 未実装機能の完全実装（最大作業）
  - [ ] lawkit: 未実装引数・オプションの実装
  - [ ] diffai: 未実装引数・オプションの実装  
  - [ ] diffx: 未実装引数・オプションの実装

- [ ] **2.3.3** pip/npmパッケージ実装状況調査・実装
  - [ ] 各プロジェクトpip: 実装状況調査→未実装機能実装
  - [ ] 各プロジェクトnpm: 実装状況調査→未実装機能実装

- [ ] **2.3.4** 実装済み機能のテスト実行
  - [ ] 実装完了した機能のみテスト実行
  - [ ] コンパイルエラー修正
  - [ ] テスト失敗の原因特定

- [ ] **2.3.5** バグ修正・最終調整
  - [ ] テスト失敗の修正
  - [ ] エッジケース対応
  - [ ] 全テスト成功達成

- [ ] **2.3.6** マトリクス4完全達成確認
  - [ ] テストパス率100%達成確認（全プロジェクト）
  - [ ] ❌マーク完全撲滅確認
  - [ ] 🔍マーク完全検証完了確認

### 2.4 マトリクス5: テストスクリプト実行状況（統合検証段階）
**必達目標**: 全スクリプトが実際に成功実行（❌→✅、9スクリプト全成功）

- [ ] **2.4.1** 全❌スクリプトの成功達成
  - [ ] 04-pre-release-test-act1.sh: 全3プロジェクトで成功実行
  - [ ] 05-pre-release-test-act2.sh: 全3プロジェクトで成功実行
  - [ ] 08-test-published-packages.sh: 全3プロジェクトで成功実行
- [ ] **2.4.2** GitHub Actions完全成功
  - [ ] 全スクリプトのGitHub Actions成功実行確認
- [ ] **2.4.3** マトリクス5完全達成確認
  - [ ] 全9スクリプト✅達成確認（ローカル・GitHub Actions）
  - [ ] ❌マーク完全撲滅確認

### 2.5 リリース準備とマトリクス最終確認
- [ ] **2.5.1** バージョン番号統一
- [ ] **2.5.2** パッケージメタデータ確認
- [ ] **2.5.3** CI/CD動作確認
- [ ] **2.5.4** 全マトリクス（1-5番）の100%達成確認
- [ ] **2.5.5** comprehensive-matrix-management.md最終更新

## 3. 完了したタスク

### 3.1 基盤構築完了
- [x] マトリクス管理システム構築
- [x] TDD順序準拠タスク整理

---

## 進捗状況

**現在**: 1.1 マトリクス1（ドキュメント翻訳・整合性）作業中
**次**: 2.1 マトリクス2（ドキュメント対応テストコード）
**リリース条件**: 全マトリクス（1-5番）100%達成必須
**完了率**: 約30%（基盤構築完了、マトリクス作業開始）

## マトリクス管理原則

**重要**: comprehensive-matrix-management.mdの5つのマトリクスを順序通りに埋めることがリリースの必要条件

**TDD順序（マトリクス1-5）**:
1. **ドキュメント翻訳・整合性マトリクス** - 仕様確定段階
2. **ドキュメント対応テストコードマトリクス** - テスト仕様段階  
3. **テストディレクトリ活用状況** - テスト実装段階
4. **テストパス状況マトリクス（引数・オプション別）** - 実装完了段階
5. **テストスクリプト実行状況マトリクス** - 統合検証段階

**絶対原則**: 実測値のみ反映、推測・仮定による更新禁止

## 新規追加事項（2025-07-21 整理完了後）

### comprehensive-matrix-management.mdから移動されたTODO項目

- [ ] **Matrix 1完全実行**: 古い仕様記述チェックスクリプト実行、翻訳ファイル存在確認、構造整合性確認
- [ ] **Matrix 2実行**: ドキュメント内使用例数調査、テストケース数確認、不一致解消計画
- [ ] **diffai/lawkit仕様調査**: 両プロジェクトの実装状況確認、引数・オプション特定
- [ ] **失敗テスト詳細調査継続**: diffxで失敗している11テストの原因分析・修正方針決定

### 整理完了事項（2025-07-21）

- [x] comprehensive-matrix-management.md整理完了: 全体方針を上部配置、各マトリクス手順を直下配置、古い長文説明削除
- [x] Matrix手順の具体化: AIが再現可能な詳細な手順記述に修正完了